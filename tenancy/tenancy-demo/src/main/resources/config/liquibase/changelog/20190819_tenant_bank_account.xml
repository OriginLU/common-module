<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <changeSet author="HP (generated)" id="1566180338354-1">
        <createTable tableName="bank_account">
            <column autoIncrement="true" name="id" remarks="主键" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" remarks="名称" type="VARCHAR(50)"/>
            <column name="target_id" remarks="id" type="VARCHAR(36)"></column>
            <column name="account_name" remarks="银行账户" type="VARCHAR(50)"></column>
            <column name="account_number" remarks="银行账号" type="VARCHAR(50)"></column>
            <column name="open_account_bank_address" remarks="开户行地址" type="VARCHAR(128)"></column>
            <column name="open_account_bank_name" remarks="开户行名称" type="VARCHAR(50)"></column>
            <column name="create_time" remarks="创建时间" type="datetime(6)"/>
            <column name="modify_time" remarks="更新时间" type="datetime(6)"/>
            <column name="delete_status" remarks="删除状态" type="boolean"></column>
            <column name="protocol_no" remarks="协议号" type="varchar(50)"></column>
            <column name="sub_account" remarks="子账号" type="varchar(50)"></column>
            <column name="channel_type" remarks="渠道id" type="integer"></column>
            <column name="remarks" remarks="备注" type="text"></column>
            <column name="bk_type" remarks="类型" type="int"></column>
            <column name="serial_number" remarks="序列号" type="varchar(36)"></column>
        </createTable>
    </changeSet>
    <changeSet id="20190822144534-x" author="lzh">
        <createIndex tableName="bank_account" indexName="idx_target_id_and_channel_type">
            <column name="target_id"></column>
            <column name="channel_type"></column>
        </createIndex>
    </changeSet>

    <changeSet id="20190904141711-x" author="lzh">
        <dropColumn tableName="bank_account" columnName="protocol_no"></dropColumn>
        <dropColumn tableName="bank_account" columnName="sub_account"></dropColumn>
        <dropColumn tableName="bank_account" columnName="serial_number"></dropColumn>
    </changeSet>


    <changeSet id="20190904141711-y" author="lzh">
        <dropColumn tableName="bank_account" columnName="remarks"></dropColumn>
    </changeSet>

    <changeSet id="20191120131449" author="lzh">
        <addColumn tableName="bank_account">
            <column name="serial_number" remarks="序列号" type="varchar(36)"></column>
        </addColumn>
    </changeSet>

    <changeSet id="20191120131652" author="lzh">
        <dropIndex tableName="bank_account" indexName="idx_target_id_and_channel_type"/>
    </changeSet>


    <changeSet id="20191120131654" author="lzh">
        <addUniqueConstraint tableName="bank_account" columnNames="serial_number"/>
    </changeSet>

    <changeSet id="20200221131916" author="lzh">
        <dropColumn tableName="bank_account" columnName="bk_type"/>
    </changeSet>

</databaseChangeLog>
