<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <changeSet author="LZL" id="2019092304086666">
        <createTable tableName="pay_bills_out">
            <column autoIncrement="true" name="id" remarks="主键" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="payBillsId" remarks="账单id" type="BIGINT"></column>
            <column name="cooperator_id" remarks="合作商id" type="BIGINT"/>
            <column name="contract_number" remarks="合同编号" type="VARCHAR(512)"/>
            <column name="capital_id" remarks="资金方id" type="BIGINT"/>
            <column name="capital_products_id" remarks="资金产品id" type="BIGINT"></column>
            <column name="customer_type" remarks="客户类型（1.个人客户）" type="integer"/>
            <column name="user_id" remarks="客户id" type="BIGINT"></column>
            <column name="user_name" remarks="客户名称" type="VARCHAR(512)"/>
            <column name="id_card" remarks="证件号码" type="VARCHAR(512)"></column>
            <column name="frame_number" remarks="车架号" type="VARCHAR(512)"/>
            <column name="car_number" remarks="车牌号" type="VARCHAR(512)"></column>
            <column name="total_periods" remarks="总期数" type="integer"></column>
            <column name="periods" remarks="期数" type="integer"></column>
            <column name="pay_date" remarks="还款日" type="datetime"></column>
            <column name="pay_date_num" remarks="还款日数字" type="integer"></column>
            <column name="amount_due" remarks="资方应收金额(分)" type="decimal(15,5)"></column>
            <column name="monthly_supply" remarks="应还月供（分）" type="decimal(15,5)"></column>
            <column name="monthly_principal" remarks="应还月供本金（分）" type="decimal(15,5)"></column>
            <column name="monthly_interest" remarks="应还月供利息（分）" type="decimal(15,5)"></column>
            <column name="funding_interest" remarks="应收月供罚息" type="decimal(15,5)"></column>
            <column name="pay_type" remarks="还款方式（0.通联1.华夏虚拟账户）" type="integer"></column>
            <column name="actual_funding_due" remarks="实际资金方金额(分)" type="decimal(15,5)"></column>
            <column name="actual_monthly_supply" remarks="实际月供（分）" type="decimal(15,5)"></column>
            <column name="actual_monthly_principal" remarks="实际月供本金（分）" type="decimal(15,5)"></column>
            <column name="actual_monthly_interest" remarks="实际月供利息（分）" type="decimal(15,5)"></column>
            <column name="actual_funding_interest" remarks="实收月供罚息" type="decimal(15,5)"></column>
            <column name="pay_status" remarks="月供还款状态（0.未划扣1.划扣中2.正常还款3.未还款4.部分还款5.逾期未还款6.逾期已还款7.转人工8.逾期部分还款）" type="integer"></column>
            <column name="unpaid_principal" remarks="未偿本金（分）" type="decimal(15,5)"></column>
            <column name="overdue_count" remarks="逾期天数" type="integer"></column>
            <column name="funding_receive_time" remarks="到账时间 " type="datetime"></column>
            <column name="creat_time" remarks="创建时间" type="datetime"></column>
        </createTable>
    </changeSet>

    <changeSet id="2019092715305555" author="lzl">
        <renameColumn tableName="pay_bills_out" oldColumnName="creat_time" newColumnName="create_time" columnDataType="datetime"></renameColumn>
    </changeSet>
    <changeSet id="2019092715309999" author="lzl">
        <renameColumn tableName="pay_bills_out" oldColumnName="payBillsId" newColumnName="pay_bills_id" columnDataType="BIGINT"></renameColumn>
    </changeSet>

    <changeSet id="2020030311345555" author="lzl">
        <addColumn tableName="pay_bills_out">
            <column name="falsify_due" remarks="违约金" type="decimal(15,5)"></column>
            <column name="retained_funds" remarks="留购款" type="decimal(15,5)"></column>
            <column name="actualRetainedFunds" remarks="实际留购款（分）" type="decimal(15,5)"></column>
        </addColumn>
    </changeSet>

    <changeSet id="202003041022411111" author="lzl">
        <addColumn tableName="pay_bills_out">
            <column name="others_due" remarks="其他款项" type="decimal(15,5)"></column>
        </addColumn>
    </changeSet>

    <changeSet id="2020030410281111" author="lzl">
        <renameColumn tableName="pay_bills_out" oldColumnName="actualRetainedFunds" newColumnName="actual_retained_funds" columnDataType="decimal(15,5)"></renameColumn>
    </changeSet>
    <changeSet id="202003161111" author="lzl">
        <addColumn tableName="pay_bills_out">
            <column name="advance_status" remarks="是否是提前结清账单 1是" type="integer"></column>
        </addColumn>
    </changeSet>

    <changeSet id="2020031814291111" author="lzl">
        <addColumn tableName="pay_bills_out">
            <column name="business_code" remarks="业务类型" type="integer"></column>
        </addColumn>
    </changeSet>
</databaseChangeLog>
