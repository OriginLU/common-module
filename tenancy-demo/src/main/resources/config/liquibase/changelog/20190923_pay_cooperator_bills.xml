<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <changeSet author="LZL" id="20190923132555555">
        <createTable tableName="pay_cooperator_bills">
            <column autoIncrement="true" name="id" remarks="主键" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="cooperator_id" remarks="合作商id" type="BIGINT"/>
            <column name="contract_number" remarks="合同编号" type="VARCHAR(512)"/>
            <column name="capital_id" remarks="资金方id" type="BIGINT"/>
            <column name="capital_products_id" remarks="资金产品id" type="BIGINT"></column>
            <column name="customer_type" remarks="客户类型（1.个人客户）" type="integer"/>
            <column name="user_id" remarks="客户id" type="BIGINT"></column>
            <column name="user_name" remarks="客户名称" type="VARCHAR(512)"/>
            <column name="id_card" remarks="证件号码" type="VARCHAR(512)"></column>
            <column name="frame_number" remarks="车架号" type="VARCHAR(512)"/>
            <column name="car_number" remarks="车牌号" type="VARCHAR(512)"></column>
            <column name="total_periods" remarks="总期数" type="integer"></column>
            <column name="periods" remarks="期数" type="integer"></column>
            <column name="pay_date" remarks="还款日" type="datetime"></column>
            <column name="pay_date_num" remarks="还款日数字" type="integer"></column>
            <column name="pay_type" remarks="还款方式（0.通联1.华夏虚拟账户）" type="integer"></column>
            <column name="advance_payment_due" remarks="垫付金额(分)" type="decimal(15,5)"></column>
            <column name="actual_advance_payment_due" remarks="实收垫付金额(分)" type="decimal(15,5)"></column>
            <column name="pay_status" remarks="垫付状态（0.未划扣1.划扣中2.已垫付3.未垫付4.转人工）" type="integer"></column>
            <column name="pay_time" remarks="划扣时间 " type="datetime"></column>
            <column name="amount_due" remarks="应收客户偿还金额(分)" type="decimal(15,5)"></column>
            <column name="actual_amount_due" remarks="实收客户偿还金额(分)" type="decimal(15,5)"></column>
            <column name="status" remarks="月供还款状态（0.未划扣1.划扣中2.正常还款3.未还款4.部分还款5.逾期未还款6.逾期已还款7.转人工8.逾期部分还款）" type="integer"></column>
            <column name="funding_receive_time" remarks="最新偿还时间" type="datetime"></column>
        </createTable>
    </changeSet>

    <changeSet id="2019092511271111" author="lzl">
        <addColumn tableName="pay_cooperator_bills">
            <column name="payBillsId" remarks="账单id" type="BIGINT"></column>
        </addColumn>
    </changeSet>

    <changeSet id="2019092811536666" author="lzl">
        <renameColumn tableName="pay_cooperator_bills" oldColumnName="payBillsId" newColumnName="pay_bills_id" columnDataType="BIGINT"></renameColumn>
    </changeSet>

    <changeSet id="2020030314101111" author="lzl">
        <addColumn tableName="pay_cooperator_bills">
            <column name="retained_funds" remarks="留购款" type="decimal(15,5)"></column>
        </addColumn>
    </changeSet>

    <changeSet id="2020030410221111" author="lzl">
        <addColumn tableName="pay_cooperator_bills">
            <column name="falsify_due" remarks="违约金" type="decimal(15,5)"></column>
        </addColumn>
    </changeSet>
    <changeSet id="202003161111" author="lzl">
        <addColumn tableName="pay_cooperator_bills">
            <column name="advance_status" remarks="是否是提前结清账单 1是" type="integer"></column>
        </addColumn>
    </changeSet>
    <changeSet id="2020031814291111" author="lzl">
        <addColumn tableName="pay_cooperator_bills">
            <column name="business_code" remarks="业务类型" type="integer"></column>
        </addColumn>
    </changeSet>
</databaseChangeLog>
